name: 'Do While Not Queued'
description: 'Repetitively execute the specified command until the specified workflow is queued'
inputs:
  commandLine:
    description: 'This command to run'
    required: true
  args:
    description: 'Arguments to the command can be listed here, multiple arguments can be separated with argsSeparator'
    required: true
    default: ''
  argsSeparator:
    description: 'Used to delineate where one argument end and the next starts'
    required: true
    default: ';'
  checkEvery:
    description: 'Use to control how often it will check see if any item has been queued'
    required: true
    default: "1"
  detailLevel:
    description: 'How details the output should be. 0 = None, 1 = Count, 2 = Full'
    required: true
    default: "2"
  workflow:
    description: 'The workflow to look for.  And should be set as workflow: dollar-dollar{{ github.WORKFLOW }}'
    required: true
  maxRuns:
    description: 'The max number of times to run the command, set < 1 to just keep going'
    required: true
    default: "1000"
  maxTimeSec:
    description: 'The max number of second to keep checking, set < 1 to just keep going'
    required: true
    default: "2700" # 45 min, since out token is only good for 1 hour.  This buys us some wiggle room
  GITHUB_TOKEN: 
    description: 'The Token that has read access to Actions REST API.  And should be set as GITHUB_TOKEN: dollar-dollar{{ secrets.GITHUB_TOKEN }}'
    required: true
runs:
  using: 'node12'
  main: 'dist/index.js'
